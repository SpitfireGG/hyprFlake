source=~/.config/hypr/env
source=~/.config/hypr/nukes
source=~/.config/hypr/keybinds
source=~/.config/hypr/workspaces
source=~/.config/hypr/execs

monitor=eDP-1,1920x1080@60,0x0,1
monitor=HDMI-A-1,1366x768@60,1920x0,1

input {
    kb_layout = us
    kb_variant =
    kb_options = caps:swapescape
    kb_rules = 
    follow_mouse = 1
    repeat_delay = 160
    repeat_rate = 60
    
    touchpad {
        natural_scroll = yes
        disable_while_typing = true
        tap-to-click = true
    }
    
    sensitivity = 0 
}

cursor {
    inactive_timeout = 2
}

gestures {
    workspace_swipe_distance = 700
    workspace_swipe_cancel_ratio = 0.2
    workspace_swipe_min_speed_to_force = 5
    workspace_swipe_direction_lock = true
    workspace_swipe_direction_lock_threshold = 0
    workspace_swipe_create_new = true
}

# Smooth easing bezier curves
bezier = smoothOut, 0.36, 0, 0.66, -0.56
bezier = smoothIn, 0.25, 1, 0.5, 1
bezier = overshot, 0.05, 0.9, 0.1, 1.1
bezier = linear, 0, 0, 1, 1

animations {
    enabled = true
    
    bezier = snap, 0.1, 1, 0.1, 1
    bezier = quickIn, 0.05, 0.9, 0.1, 1.05

    animation = windows, 1, 3, quickIn, slide
    animation = windowsIn, 1, 3, quickIn, slide
    animation = windowsOut, 1, 3, snap, slide
    animation = windowsMove, 1, 3, snap, slide
    
    animation = fadeIn, 1, 3, snap
    animation = fadeOut, 1, 3, snap
    animation = fadeSwitch, 1, 2, snap
    animation = fadeShadow, 1, 3, snap
    
    animation = border, 1, 5, snap
    animation = borderangle, 1, 30, linear, loop
    
    animation = workspaces, 1, 4, quickIn, slidefade 20%
    animation = workspacesIn, 1, 4, quickIn, slidefade 20%
    animation = workspacesOut, 1, 4, snap, slidefade 20%
    animation = specialWorkspace, 1, 3, quickIn, slidevert
}

binds {
    workspace_back_and_forth = true
}

# Window Rules - Updated to latest syntax
windowrulev2 = float, class:^(firefox)$, title:^(Firefox â€” Sharing Indicator)$
windowrulev2 = animation slide, class:^(wofi)$
windowrulev2 = move 100%-433 53, class:^(wofi)$, title:^(clippick)$
windowrulev2 = animation popin, class:^(wlogout)$, title:^(wlogout)$
windowrulev2 = float, class:^(wlogout)$, title:^(wlogout)$

# virt-manager optimizations
windowrulev2 = noborder, title:^(virt-manager)$
windowrulev2 = noshadow, title:^(virt-manager)$
windowrulev2 = noblur, title:^(virt-manager)$
windowrulev2 = float, title:^(.*Virtual Machine Manager)$
windowrulev2 = noborder, title:^(.* on QEMU/KVM)$
windowrulev2 = fullscreen, title:^(.* on QEMU/KVM)$

general {
    no_focus_fallback = true
    gaps_in = 2
    gaps_out = 4
    border_size = 0
    col.active_border = rgba(00ff99ee) rgba(33ccffee) rgba(00ff99ee) 45deg
    col.inactive_border = rgba(595959aa)
    layout = dwindle
}

decoration {
    rounding = 8
    
    blur { 
        enabled = true
        size = 3
        passes = 4
        new_optimizations = true 
        xray = true
        ignore_opacity = false
        vibrancy = 0.1
        contrast = 0.5
        brightness = 0.9
        vibrancy_darkness = 1
    }
}

dwindle {
    pseudotile = yes
    preserve_split = yes 
}

misc {
    vfr = true
    vfr = 0
    disable_hyprland_logo = true
    focus_on_activate = true
    animate_manual_resizes = false
    animate_mouse_windowdragging = false
    enable_swallow = false
}
